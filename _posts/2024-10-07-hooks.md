---
layout: post
title: Hooks
date: 2024-10-07 23:09 +0900
description: Hooks
category: [React]
tags: []
pin: false
math: true
mermaid: true
---
# Hooks

## Hooks의 개념과 useState, useEffect
- 함수 컴포넌트에서는 State 사용 불가, Lifecycle에 따른 기능 구현 불가
- 함수 컴포넌트에 기능을 지원해서 클래스 컴포넌트처럼 쓸 수 있게 하는 것이 Hooks
- Hook의 이름은 모두 use로 시작한다
- Custom Hook도 생성 가능한데 이름 앞에 use를 붙여 Hook이라는 것을 명시

### useState()
- state를 사용하기 위한 Hook
- useState 사용시 변수 각각에 대해 set함수가 따로 존재
- 사용법
  ```js
  const [변수명, set함수명] = useState(초기값);
  ```

- 예시
  ```jsx
  import React, { useState } from "react";

  function Counter(props){
    const [count, setCount] = useState(0);

    return(
      <div>
        <p>총 {count}번 클릭했습니다.</p>
        <button onClick={() => setCount(count + 1)}>
          클릭
        </button>
      </div>
    );
  }
  ```

### useEffect()
- 리액트의 함수 컴포넌트에서 Side effect를 실행할 수 있게 해주는 Hook
- Side effect
  - 서버에서 데이터를 받아오거나 수동으로 DOM을 변경하는 등의 작업
  - 작업들이 다른 컴포넌트에 영향을 미칠 수 있고 렌더링 중에는 완료될 수 없기 때문에 Side effect라고 한다
- 생명주기함수 (ComponentDidMount(), componentDidUpdate(), ComponentWillUnmount())와 동일한 기능을 수행할 수 있다
- useEffect의 리턴 함수의 역할은 ComponentWillUnmount 함수가 하는 역할과 동일하다
- useEffect Hook은 하나의 컴포넌트에 여러 개를 사용할 수 있다
- 사용법
  ```js
  useEffect(() =>{
    // 컴포넌트가 마운트 된 이후,
    // 의존성 배열에 있는 변수들 중 하나라도 값이 변경되었을 때 실행됨
    // 의존성 배열에 빈 배열([])을 넣으면 마운트와 언마운트시에 단 한 번씩만 실행됨
    // 의존성 배열 생략 시 컴포넌트 업데이트 시마다 실행됨
    return () =>{
      // 컴포넌트가 마운트 해제되기 전에 실행됨
    }
  }, [의존성 변수1, 의존성 변수2, ...]);
  ```

- 예시
  ```jsx
  import React, { useState, useEffect } from "react";

  function Counter(props){
    const [count, setCount] = useState(0);

    // componentDidMount, componentDidUpdate와 비슷하게 작동
    useEffect(() => {
      // 브라우저 API를 사용해서 document의 title을 업데이트
      document.title = `You clicked ${count} times`;
    });

    return(
      <div>
        <p>총 {count}번 클릭했습니다.</p>
        <button onClick={() => setCount(count + 1)}>
          클릭
        </button>
      </div>
    );
  }
  ```


## useMemo, useCallback, useRef

## Hook의 규칙과 Custom Hook 만들기